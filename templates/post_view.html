{% extends "base.html" %}

{% block content %}

    <article>
        <h2>Post #{{post.id}}</h2>

        <p style="font-size: 1.2em; line-height: 1.6;">{{ post.body }}</p>

        <p>
            - Written by <strong>{{ post.author.username }}</strong> on {{ post.created_at.strftime('%B %d, %Y at %H:%M')}}
        </p>
    </article>

    {% if session.get('user') == post.author.username %}
        <div style="margin-top: 20px; display: flex; gap: 10px;">
            <a href="{{ url_for('posts.edit_post', post_id=post.id) }}" style="color: blue;">Edit Post</a>

            <form action="{{ url_for('posts.delete_post', post_id=post.id) }}" method="POST" onsubmit="return confirm('Are you sure you want to delete this post?');">
                <button type="submit" style="background: none; border: none; color: red; text-decoration: underline; cursor: pointer; padding: 0;">
                    Delete Post
                </button>
            </form>
        </div>
    {% endif %}

    <br>

    <a href="{{ url_for('posts.post_index') }}">‚Üê Back to all posts</a>

    <hr>

    <h3>Comments</h3>
    <p><em>Comments comming soon...</em></p>

{% endblock %}